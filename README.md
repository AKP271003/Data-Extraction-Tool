# Production Data Extraction Tool

This tool is a lightweight Flask-based API that extracts production data from a MySQL database and returns the results as a downloadable ZIP of CSV files. It is designed to run in production using `waitress` and supports parallel execution, connection pooling, and safety checks for heavy queries.

---

## Quick Start

1. **Clone the repo**

```bash
git clone https://github.com/AKP271003/Data-Extraction-Tool.git
cd Data-Extraction-Tool
````

2. **Run the setup & server script**

```bash
./script.sh
```

This will:

* Create and activate a virtual environment
* Install Python dependencies from `requirements.txt`
* Generate a `config.txt` file from your database schema
* Start the Flask API server using `waitress` on `localhost:5000`

---

## API Usage

**Endpoint:**
`POST /execute_queries`

**Example curl command:**

```bash
curl -X POST http://localhost:5000/execute_queries \
  -F "case_number=12345,67890" \
  -F "query_id=test_run" \
  --output output.zip
```

**Optional fields:**

* `columns`: comma-separated list of columns to include
* `max_rows`: limit number of rows per case

---

## ‚öôÔ∏è Configuration

The `config.txt` file defines the tables and queries used by the tool. It is auto-generated by `generate_config.py`, which introspects the database schema.

You can customize it to define which tables and columns to query.

---

## üßæ Requirements

* Python 3.7+
* MySQL database access
* Bash (for Unix-like systems) or Git Bash on Windows

---

## üìÅ Output

The tool returns a `.zip` file containing:

* CSV files for each query result
* A log file with details of the execution

---

## üõ†Ô∏è Technologies Used

* Flask
* MySQL Connector with connection pooling
* Waitress (production WSGI server)
* ThreadPoolExecutor (for parallel query execution)

